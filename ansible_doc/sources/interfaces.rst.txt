Интерфейсы
==========

.. contents::
   :depth: 3

На этой странице рассмотрены интерфейсы системы. Подробно про протоколы верхних уровней можно прочитать на странице "`Протоколы`_".
   
LTE
---
В системе LTE от Amarisoft используются следующие интерфейсы:

* LTE-Uu;
* UE — MME;
* X2;
* M2;
* S1-MME;
* S1-U;
* S11;
* SGs;
* S6a.

Более подробно каждый из интерфейсов рассмотрен ниже.

LTE-Uu
~~~~~~
Интерфейс между UE и eNB.

.. figure:: _static/Uu.jpg
       :scale: 100 %
       :align: center
       :alt: LTE-Uu

       Стек протоколов интерфейса LTE-Uu

Физический уровень радиоинтерфейса LTE предоставляет передачу данных на верхние уровни. Доступ к этим сервисам происходит посредством использования транспортного канала через подуровень MAC. Физический уровень должен осуществлять следующие функции:

* Обнаружение ошибок на транспортном канале и их индиакия на уровни выше;
* FEC-шифрование/дешифрование транспортного канала;
* Hybrid ARQ soft-combining;
* Согласование скорости педерачи в кодированном транспортном канале с физическим каналом;
* Наложение кодированного транспортного канала на физический канал;
* Определение мощности (power weighting) физических каналов;
* Модуляция и демодуляция физических каналов;
* Синхронизация частот и времени;
* Измерение характеристик радио и их индикация на верхние уровни;
* MIMO;
* TX diversity;
* Формирование лучей;
* RF processing.

| Спецификации:
| `3GPP TS 36.201`_ — Evolved Universal Terrestrial Radio Access (E-UTRA); LTE physical layer; General description
| `3GPP TS 36.211`_ — Evolved Universal Terrestrial Radio Access (E-UTRA); Physical channels and modulation
| `3GPP TS 36.212`_ — Evolved Universal Terrestrial Radio Access (E-UTRA); Multiplexing and channel coding
| `3GPP TS 36.213`_ — Evolved Universal Terrestrial Radio Access (E-UTRA); Physical layer procedures
| `3GPP TS 36.214`_ — Evolved Universal Terrestrial Radio Access (E-UTRA); Physical layer; Measurements

UE — MME
~~~~~~~~

X2
~~
Интерфейс между двумя eNB.

.. figure:: _static/X2.jpg
       :scale: 100 %
       :align: center
       :alt: X2

       Стек протоколов интерфейса X2

Уровень 1 интерфейса X2
"""""""""""""""""""""""
Основными функциями первого уровня интерфейса X2 являются:

* Интерфейс до физического носителя;
* Разграничение кадров;
* Возможность извлечения временных параметров (Line clock extraction, не уверен, как это правильно звучит);
* Извлечение и генерация предупреждений первого уровня;
* Контроль за качеством передачи.

Сигнализация по X2
""""""""""""""""""
Интерфейс X2 предоставляет следующие функции сигнализации:

* Наблюдение за надёжной передачей сообщений протокола X2-AP поверх интерфейса X2;
* Наблюдение за сетевым взаимодействием и маршрутизацией;
* Наблюдение за избыточностью в сигнальной сети;
* Поддержка контроля потока и контроля загруженности.

L2 — Канальный уровень
""""""""""""""""""""""
Поддерживается любой протокол канального уровня (например, PPP, Ethernet).

Сетевой уровень
"""""""""""""""

* eNB поддерживает IPv6 и/или IPv4;
* Сетевой уровень интерфейса eNB–eNB при доставке сообщений X2-AP поддерживает только передачу точка-точка;
* eNB поддерживает Diffserv Code Point marking.

Транспортный уровень
""""""""""""""""""""
В носителе (bearer) сигнализации в качестве протокола транспортного уровня поддерживается SCTP.

* SCTP (Strema Control Transmission Protocol) разработан в IETF рабочей группой Sigtran с целью передачи различных сигнальных протоколов поверх IP-сети;
* В одной паре eNB устанавливается только одна SCTP-ассоциация;
* SCTP-ассоциацию устанавливает eNB. В качестве порта назначения (SCTP Destination Port) для X2-AP IANA постановила использовать 36422.

| Спецификации:
| `3GPP TS 36.420`_ — Evolved Universal Terrestrial Radio Access Network (E-UTRAN); X2 general aspects and principles
| `3GPP TS 36.421`_ — Evolved Universal Terrestrial Radio Access Network (E-UTRAN); X2 layer 1.
| `3GPP TS 36.422`_ — Evolved Universal Terrestrial Radio Access Network (E-UTRAN); X2 signalling transport

M2
~~

S1-MME и S1-U
~~~~~~~~~~~~~
| S1-MME — интерфейс между eNB и MME, предназначен для передачи в основном сигнальной информации.
| S1-U — интерфейс между eNB и S-GW, предназначен для передачи сигнальной и пользовательской информации по протоколам S1-AP и GTPv1-U, соответственно.

.. figure:: _static/S1-MME.png
       :scale: 100 %
       :align: center
       :alt: S1-MME

       Стек протоколов интерфейса S1-MME

.. figure:: _static/S1-U.jpg
       :scale: 100 %
       :align: center
       :alt: S1-U

       Стек протоколов интерфейса S1-U

Уровень 1 интерфейса S1
"""""""""""""""""""""""
Основными функциями первого уровня интерфейса X2 являются:

* Интерфейс до физического носителя;
* Разграничение кадров;
* Возможность извлечения временных параметров (Line clock extraction, не уверен, как это правильно звучит);
* Извлечение и генерация предупреждений первого уровня;
* Контроль за качеством передачи.

Сигнализация по S1
""""""""""""""""""
Интерфейс S1 предоставляет следующие функции сигнализации:

* Наблюдение за надёжной передачей сообщений протокола S1-AP поверх интерфейса S1-MME;
* Наблюдение за сетевым взаимодействием и маршрутизацией;
* Наблюдение за избыточностью в сигнальной сети;
* Поддержка контроля потока и контроля загруженности.

L2 — Канальный уровень
""""""""""""""""""""""
Поддерживается любой протокол канального уровня (например, PPP, Ethernet).

Сетевой уровень
"""""""""""""""

* eNB и MME поддерживают IPv6 и/или IPv4;
* Сетевой уровень интерфейса S1-MME при доставке сообщений S1-AP поддерживает только передачу точка-точка;
* eNB и MME поддерживают Diffserv Code Point marking.

Транспортный уровень
""""""""""""""""""""
В носителе (bearer) сигнализации S1-MME в качестве протокола транспортного уровня поддерживается SCTP.

* SCTP (Strema Control Transmission Protocol) разработан в IETF рабочей группой Sigtran с целью передачи различных сигнальных протоколов поверх IP-сети;
* В одной паре eNB–MME устанавливается только одна SCTP-ассоциация;
* SCTP-ассоциацию устанавливает eNB. В качестве порта назначения (SCTP Destination Port) для X2-AP IANA постановила использовать 36412.

| Спецификации:
| `3GPP TS 36.410`_ — Evolved Universal Terrestrial Radio Access Network (E-UTRAN); S1 layer 1 general aspects and principles
| `3GPP TS 36.411`_ — Evolved Universal Terrestrial Radio Access Network (E-UTRAN); S1 layer 1
| `3GPP TS 36.412`_ — Evolved Universal Terrestrial Radio Access Network (E-UTRAN); S1 signalling transport

S11
~~~

SGs
~~~

S6a
~~~


IMS
---



.. ссылки
.. _`Протоколы`: https://timagribanov.github.io/ansible_doc/protocols.html
.. _`3GPP TS 36.201`: https://www.etsi.org/deliver/etsi_ts/136200_136299/136201/15.02.00_60/ts_136201v150200p.pdf
.. _`3GPP TS 36.211`: https://www.etsi.org/deliver/etsi_ts/136200_136299/136211/15.06.00_60/ts_136211v150600p.pdf
.. _`3GPP TS 36.212`: https://www.etsi.org/deliver/etsi_ts/136200_136299/136212/15.06.00_60/ts_136212v150600p.pdf
.. _`3GPP TS 36.213`: https://www.etsi.org/deliver/etsi_ts/136200_136299/136213/15.06.00_60/ts_136213v150600p.pdf
.. _`3GPP TS 36.214`: https://www.etsi.org/deliver/etsi_ts/136200_136299/136214/15.03.00_60/ts_136214v150300p.pdf
.. _`3GPP TS 36.410`: https://www.etsi.org/deliver/etsi_ts/136400_136499/136410/15.00.00_60/ts_136410v150000p.pdf
.. _`3GPP TS 36.411`: https://www.etsi.org/deliver/etsi_ts/136400_136499/136411/15.00.00_60/ts_136411v150000p.pdf
.. _`3GPP TS 36.412`: https://www.etsi.org/deliver/etsi_ts/136400_136499/136412/15.00.00_60/ts_136412v150000p.pdf
.. _`3GPP TS 36.420`: https://www.etsi.org/deliver/etsi_ts/136400_136499/136420/15.01.00_60/ts_136420v150100p.pdf
.. _`3GPP TS 36.421`: https://www.etsi.org/deliver/etsi_ts/136400_136499/136421/15.00.00_60/ts_136421v150000p.pdf
.. _`3GPP TS 36.422`: https://www.etsi.org/deliver/etsi_ts/136400_136499/136422/15.01.00_60/ts_136422v150100p.pdf
