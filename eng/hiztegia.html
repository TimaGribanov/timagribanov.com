<!DOCTYPE html> 
<html>
	<head>
		<title>Баскско-русский, русско-баскский словарь</title>
		<meta charset="utf-8">
		
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
	
        <script>
            var xml;
		
            $.ajax({
                type: "GET",
                url: "hiztegia.xml",
                dataType: "xml",
                success: function(data){
                    xml = data;
                }
            });
		
            $(function(){
                $('#submit').click(function(){
                    var input = document.getElementById('searchField').value.toLowerCase();
//                      input.replace("ё","е");
                    var answer = findElement(xml, input);
                    document.getElementById('result').innerHTML = answer;
                })
			
                $('#searchField').keypress(function(e){
                    if (e.which == 13 || e.keyCode == 13) {
                        var input = document.getElementById('searchField').value.toLowerCase();
//                          input.replace("ё","е");
                        var answer = findElement(xml, input);
                        document.getElementById('result').innerHTML = answer;
                    }
                })
            });
		
            function findElement(xml, input){
                var res;
                $.each($(xml).find('word'),function(index, nodeValue){
                    if(input == $(nodeValue).find('basque').text()){
                        rus = $(nodeValue).find('russian').text();
//                         type = $(nodeValue).find('type').text();
//                         res = input + " " + type + " " + rus;
                        res = rus;
                    }
                    else if (input == $(nodeValue).find('russian').text()){
                        eus = $(nodeValue).find('basque').text();
//                         type = $(nodeValue).find('type').text();
//                         res = input + " " + type + " " + eus;
                        res = eus;
                    }
                });
                    
                return res;
            }
        </script>
	</head>
	<body>
		<center>
			<div vspace="5px">
				<img src="/img/eus.png" height="20px" width="35px" hspace="5px"><img src="/img/rus.jpg" height="20px" width="30px" hspace="5px">
			</div>
			<div>
				<input type="text" id ="searchField" width="60px" height="5px"/>
				<button id="submit" width="10px" height="5px" hspace="5px">Search</button>
			</div>
			<p id="result"></p>
		</center>
	</body>
</html>
